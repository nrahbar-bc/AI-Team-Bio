(()=>{"use strict";var e,t={170:()=>{const e=window.wp.element,t=window.wp.blocks,a=window.wp.i18n,n=window.wp.blockEditor,r=window.React,l=window.wp.components,i=t=>{let{attributes:n,setAttributes:r}=t;const{homeTeam:i,awayTeam:o}=n;return(0,e.createElement)(l.PanelBody,{title:(0,a.__)("1. Block Settings","ai-team-bio"),initialOpen:!1},(0,e.createElement)(l.PanelRow,null,(0,a.__)("Teams Information","ai-team-bio")),(0,e.createElement)(l.TextControl,{label:(0,a.__)("Home Team Name","ai-team-bio"),value:i,onChange:e=>{r({homeTeam:e})}}),(0,e.createElement)(l.TextControl,{label:(0,a.__)("Away Team Name","ai-team-bio"),value:o,onChange:e=>{r({awayTeam:e})}}))},o=t=>{let{attributes:n,setAttributes:r}=t;const{paragraphCount:i,showInfographicContent:o}=n;return(0,e.createElement)(l.PanelBody,{title:(0,a.__)("2. Content Settings","ai-team-bio"),initialOpen:!1},(0,e.createElement)(l.PanelRow,null,(0,a.__)("Content Information","ai-team-bio")),(0,e.createElement)(l.SelectControl,{label:(0,a.__)("How many paragraph for the Biography","ai-team-bio"),options:[{label:"1",value:"1"},{label:"2",value:"2"},{label:"3",value:"3"},{label:"4",value:"4"},{label:"5",value:"5"}],value:i,onChange:e=>{r({paragraphCount:e})},__nextHasNoMarginBottom:!0}),(0,e.createElement)(l.CheckboxControl,{label:"Show Infographic content",checked:o,onChange:e=>{r({showInfographicContent:e})}}))},s=t=>{let{attributes:n,setAttributes:r}=t;const{language:i,showHead2Head:o}=n;return(0,e.createElement)(l.PanelBody,{title:(0,a.__)("3. Extra Settings","ai-team-bio"),initialOpen:!1},(0,e.createElement)(l.PanelRow,null,(0,a.__)("Extra Information","ai-team-bio")),(0,e.createElement)(l.CheckboxControl,{label:(0,a.__)("Show the head to head history","ai-team-bio"),checked:o,onChange:e=>{r({showHead2Head:e})}}),(0,e.createElement)(l.SelectControl,{label:(0,a.__)("Content language","ai-team-bio"),options:[{label:"English",value:"English"},{label:"Danish",value:"Danish"},{label:"French",value:"French"},{label:"Greek",value:"Greek"},{label:"Italian",value:"Italian"},{label:"Farsi",value:"Farsi"},{label:"Serbian",value:"Serbian"}],value:i,onChange:e=>{r({language:e})},__nextHasNoMarginBottom:!0}))},c=t=>{let{attributes:n,setAttributes:i}=t;const[o,s]=(0,r.useState)(!1),[c,m]=(0,r.useState)(!1),{language:u,homeTeam:h,awayTeam:p,paragraphCount:b,showInfographicContent:d,showHead2Head:g,finalQuery:v,finalAnswer:E}=n;return(0,e.createElement)(l.PanelBody,{title:(0,a.__)("4. Generate Content","ai-team-bio"),initialOpen:!1},(0,e.createElement)(l.ButtonGroup,null,(0,e.createElement)(l.Button,{icon:o?"update":"upload",variant:"primary",onClick:()=>{s(!0),m(!1);const e=[];h&&e.push(`Write a biography in ${u} about "${h}" in ${b} paragraphs.`),h&&d&&e.push(`Write infography in ${u} about "${h}".`),p&&e.push(`Write a biography in ${u} about "${p}" in ${b} paragraphs.`),p&&d&&e.push(`Write infography in ${u} about "${p}".`),h&&p&&g&&e.push(`some head to head history in ${u} between "${h}" and "${p}".`),i({finalQuery:e}),(async(e,t)=>{try{const n=await fetch("https://api.openai.com/v1/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify({model:"text-davinci-003",prompt:t,temperature:0,max_tokens:1e3,user:"user"})});return await n.ok?await n.json():{choices:[{text:"Error "+n.status+": "},{text:(0,a.__)('We had an issue in getting the data, please push "Delete" and "Generate" again.',"ai-team-bio")}]}}catch(e){return e}})(n.apiKey,e).then((e=>{let t="";e.choices.forEach((e=>{var a;t+=null==(a=e.text)?"":(a+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1<br>$2")})),i({finalAnswer:t}),s(!1)}))},text:o?(0,a.__)("Generating…","ai-team-bio"):(0,a.__)("Generate","ai-team-bio"),disabled:o||c,isBusy:o}),c?(0,e.createElement)(l.Button,{icon:"update",variant:"primary",isBusy:!0,isDestructive:!0,text:(0,a.__)("Deleting…","ai-team-bio"),disabled:!0}):(0,e.createElement)(l.Button,{icon:"trash",variant:"primary",onClick:()=>{m(!0),s(!1),setTimeout((()=>{m(!1),i({finalAnswer:""})}),2e3)},isDestructive:!0,text:(0,a.__)("Delete","ai-team-bio"),disabled:o||c})))},m=t=>(0,e.createElement)(n.InspectorControls,null,(0,e.createElement)(l.Panel,null,(0,e.createElement)(i,t)),(0,e.createElement)(l.Panel,null,(0,e.createElement)(o,t)),(0,e.createElement)(l.Panel,null,(0,e.createElement)(s,t)),(0,e.createElement)(l.Panel,null,(0,e.createElement)(c,t))),u=t=>{let{attributes:r,setAttributes:l}=t;const{finalQuery:i,finalAnswer:o}=r;return(0,e.createElement)(e.Fragment,null,i&&!o&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("h3",null,(0,a.__)("We will ask this from the ChatGPT:","ai-team-bio")),(0,e.createElement)("p",null,i.join(" "))),o&&(0,e.createElement)(n.RichText,{value:o,tagName:"div",allowedFormats:["core/bold","core/italic","core/link","core/image"],onChange:e=>{l({finalAnswer:e})}}))},h=JSON.parse('{"u2":"bc-blocks/ai-team-bio"}');(0,t.registerBlockType)(h.u2,{icon:{src:(0,e.createElement)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",viewBox:"0 0 24 24"},(0,e.createElement)("path",{d:"M16,13H8a3,3,0,0,1-3-3V6A3,3,0,0,1,8,3h8a3,3,0,0,1,3,3v4A3,3,0,0,1,16,13ZM8,5A1,1,0,0,0,7,6v4a1,1,0,0,0,1,1h8a1,1,0,0,0,1-1V6a1,1,0,0,0-1-1Z"}),(0,e.createElement)("path",{d:"M10,9a1.05,1.05,0,0,1-.71-.29A1,1,0,0,1,10.19,7a.6.6,0,0,1,.19.06.56.56,0,0,1,.17.09l.16.12A1,1,0,0,1,10,9Z"}),(0,e.createElement)("path",{d:"M14,9a1,1,0,0,1-.71-1.71,1,1,0,0,1,1.42,1.42,1,1,0,0,1-.16.12.56.56,0,0,1-.17.09.6.6,0,0,1-.19.06Z"}),(0,e.createElement)("path",{d:"M12,4a1,1,0,0,1-1-1V2a1,1,0,0,1,2,0V3A1,1,0,0,1,12,4Z"}),(0,e.createElement)("path",{d:"M9,22a1,1,0,0,1-1-1V18a1,1,0,0,1,2,0v3A1,1,0,0,1,9,22Z"}),(0,e.createElement)("path",{d:"M15,22a1,1,0,0,1-1-1V18a1,1,0,0,1,2,0v3A1,1,0,0,1,15,22Z"}),(0,e.createElement)("path",{d:"M15,19H9a1,1,0,0,1-1-1V12a1,1,0,0,1,1-1h6a1,1,0,0,1,1,1v6A1,1,0,0,1,15,19Zm-5-2h4V13H10Z"}),(0,e.createElement)("path",{d:"M5,17a1,1,0,0,1-.89-.55,1,1,0,0,1,.44-1.34l4-2a1,1,0,1,1,.9,1.78l-4,2A.93.93,0,0,1,5,17Z"}),(0,e.createElement)("path",{d:"M19,17a.93.93,0,0,1-.45-.11l-4-2a1,1,0,1,1,.9-1.78l4,2a1,1,0,0,1,.44,1.34A1,1,0,0,1,19,17Z"})),background:"#00a767",foreground:"#fff"},edit:function(t){return(0,e.createElement)("div",(0,n.useBlockProps)(),(0,e.createElement)(m,t),!t.attributes.finalQuery&&(0,e.createElement)("p",null,(0,a.__)("AI Team Bio – set the parameters on sidebar!","ai-team-bio")),(0,e.createElement)(u,t))},save:function(t){let{attributes:a}=t;const{finalAnswer:r}=a;return(0,e.createElement)("div",n.useBlockProps.save(),r?(0,e.createElement)(n.RichText.Content,{value:r}):(0,e.createElement)(n.RichText.Content,{className:"alert alert-danger my-5",value:"Please set the parameters first and then generate the content.",tagName:"div"}))}})}},a={};function n(e){var r=a[e];if(void 0!==r)return r.exports;var l=a[e]={exports:{}};return t[e](l,l.exports,n),l.exports}n.m=t,e=[],n.O=(t,a,r,l)=>{if(!a){var i=1/0;for(m=0;m<e.length;m++){for(var[a,r,l]=e[m],o=!0,s=0;s<a.length;s++)(!1&l||i>=l)&&Object.keys(n.O).every((e=>n.O[e](a[s])))?a.splice(s--,1):(o=!1,l<i&&(i=l));if(o){e.splice(m--,1);var c=r();void 0!==c&&(t=c)}}return t}l=l||0;for(var m=e.length;m>0&&e[m-1][2]>l;m--)e[m]=e[m-1];e[m]=[a,r,l]},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={826:0,431:0};n.O.j=t=>0===e[t];var t=(t,a)=>{var r,l,[i,o,s]=a,c=0;if(i.some((t=>0!==e[t]))){for(r in o)n.o(o,r)&&(n.m[r]=o[r]);if(s)var m=s(n)}for(t&&t(a);c<i.length;c++)l=i[c],n.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return n.O(m)},a=globalThis.webpackChunkai_team_bio=globalThis.webpackChunkai_team_bio||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var r=n.O(void 0,[431],(()=>n(170)));r=n.O(r)})();